class t{sliderContainer;sliderList;sliderPrevButton;sliderNextButton;sliderPagination;sliderItems;widthOfContainer;qntOfSlides;maximumSlides;slidePosition=0;numberOfActiveSlide=1;isInfinityScroll;interval;intervalBody=0;animationDuration;posX1=0;posX2=0;scrollPath;constructor({sliderContainer:t,slidesQnt:i=1,pagination:e=!1,animationDuration:s=.3,animationEffect:n="ease",infinity:l=!1,interval:r=0}){this.initialization(t,i,e,l,r,s),this.setCssVariables(s,n),this.start()}initialization(t,i,e,s,n,l){this.sliderContainer="string"==typeof t?document.querySelector(t):t,this.sliderList=this.sliderContainer.querySelector("[slider-list]"),this.sliderItems=this.sliderContainer.querySelectorAll('[slider-item=""]'),this.sliderPrevButton=this.sliderContainer.querySelector("[slider-prev]"),this.sliderNextButton=this.sliderContainer.querySelector("[slider-next]"),this.sliderPagination=e&&this.sliderContainer.querySelector("[slider-pagination]"),this.widthOfContainer=this.sliderContainer.offsetWidth,this.maximumSlides=Math.ceil(this.sliderItems.length/i),this.animationDuration=l,this.qntOfSlides=i,this.isInfinityScroll=s,this.interval=n,this.slidePosition=this.isInfinityScroll?-this.widthOfContainer:0}setCssVariables(t,i){document.documentElement.style.setProperty("--n8t-slider-slide-qnt",this.qntOfSlides.toString()),document.documentElement.style.setProperty("--n8t-slider-animation-effect",i),document.documentElement.style.setProperty("--n8t-slider-animation-duration",`${t}s`)}start(){const t=this;this.sliderPagination&&(this.createPagination(),this.sliderPagination.addEventListener("click",this.paginationClickHandler.bind(t))),this.interval>0&&this.createIntervalScroll(),this.isInfinityScroll&&this.createInfinityScroll(),this.sliderPrevButton.addEventListener("click",this.prevSlideHandler.bind(t)),this.sliderNextButton.addEventListener("click",this.nextSlideHandler.bind(t)),this.sliderContainer.addEventListener("touchmove",this.touchMoveHandler.bind(t),{passive:!0}),this.sliderContainer.addEventListener("touchend",this.touchEndHandler.bind(t),{passive:!0})}createPagination(){let t=this.isInfinityScroll?1:0;const i=this.isInfinityScroll?this.maximumSlides+1:this.maximumSlides;for(;t<i;t++){const i=document.createElement("span");i.setAttribute("slider-pagination-item",""),i.setAttribute("slider-index",t.toString()),this.sliderPagination.append(i)}}createIntervalScroll(){if(this.interval>0)this.intervalBody=setInterval((()=>{this.switchElement("next")}),1e3*this.interval);else if(this.interval<0)throw new Error("[N8T SLIDER ERROR] Invalid interval. Interval must be greater than 0.")}deleteIntervalScroll(){0!==this.intervalBody&&(clearInterval(this.intervalBody),this.intervalBody=0)}createInfinityScroll(){if(this.isInfinityScroll){const t=this.sliderItems,i=t[0],e=t.length-this.qntOfSlides;for(let s=0;s<this.qntOfSlides;s++){const n=t[0+s].cloneNode(!0),l=t[e+s].cloneNode(!0);n.setAttribute("slider-item","fake"),l.setAttribute("slider-item","fake"),this.sliderList.insertBefore(l,i),this.sliderList.append(n)}this.sliderList.style.transition="none",this.sliderList.style.transform=`\n        translate3d(${-this.widthOfContainer}px, 0px, 0px)\n      `,setTimeout((()=>{this.sliderList.style.transition=null}))}}nextSlideHandler(){this.switchElement("next"),this.deleteIntervalScroll()}prevSlideHandler(){this.switchElement("prev"),this.deleteIntervalScroll()}paginationClickHandler(t){if(""===t.target.getAttribute("slider-pagination-item")){const i=Number(t.target.getAttribute("slider-index"));this.slidePosition=-i*this.widthOfContainer,this.sliderList.style.transform=`\n          translate3d(${this.slidePosition}px, 0px, 0px)\n        `,this.deleteIntervalScroll()}}touchMoveHandler(t){const i=Math.floor(t.targetTouches[0].clientX);0!==this.posX1?this.posX2=i:this.posX1=i,this.deleteIntervalScroll()}touchEndHandler(){this.scrollPath=this.posX1-this.posX2,this.posX1=0,this.scrollPath>0?this.switchElement("next"):this.switchElement("prev")}switchElement(t){const i="next"===t?-this.widthOfContainer:this.widthOfContainer;((t,i,e,s,n)=>{const l=t*Math.abs(e)-(n?0:Math.abs(e)),r=Math.abs(i)+("prev"===s?-Math.abs(e):Math.abs(e));return!!(r>l||(n?r<=0:r<0))})(this.maximumSlides,this.slidePosition,i,t,this.isInfinityScroll)?this.infinitySwitchElement(t):(this.slidePosition=this.slidePosition+i,this.numberOfActiveSlide="next"===t?this.numberOfActiveSlide++:this.numberOfActiveSlide--,this.sliderList.style.transform=`\n        translate3d(${this.slidePosition}px, 0px, 0px)\n      `)}infinitySwitchElement(t){const i="next"===t?-this.widthOfContainer:this.widthOfContainer;this.isInfinityScroll&&(this.slidePosition=this.slidePosition+i,this.sliderList.style.transform=`\n          translate3d(${this.slidePosition}px, 0px, 0px)\n      `,setTimeout((()=>{this.numberOfActiveSlide="next"===t?1:this.maximumSlides,this.slidePosition="next"===t?-this.widthOfContainer:-this.maximumSlides*this.widthOfContainer,this.sliderList.style.transition="none",this.sliderList.style.transform=`\n          translate3d(${this.slidePosition}px, 0px, 0px)\n        `,setTimeout((()=>{this.sliderList.style.transition=null}),100)}),1e3*this.animationDuration))}}export{t as default};
